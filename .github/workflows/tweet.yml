name: Tweet
on:
  push:
  workflow_dispatch:
  schedule:
    - cron:  '*/30 * * * *'

jobs:
  publish_tweet:
    name: tweet
    runs-on: ubuntu-latest
    steps:
      - name: create message
        env:
          MESSAGE: |
            ãƒ•ãƒ¬ãƒ³ãƒ‰æž ã¾ã ã¾ã ç©ºãã‚ã‚‹ã®ã§å‹Ÿé›†ä¸­ã§ã™ã€œðŸ¥³

            #ã‚¦ãƒžå¨˜ãƒ•ãƒ¬ãƒ³ãƒ‰å‹Ÿé›†
            ID: 363668256

            ã‚µãƒãƒ¼ãƒˆ: SSRã‚¹ãƒ‘ã‚¯ãƒªå®Œå‡¸
            ä»£è¡¨: ã‚»ã‚¤ã‚¦ãƒ³ã‚¹ã‚«ã‚¤
            å› å­: ã‚¹ã‚¿8/èŠ4/ä¸­è·é›¢2/URA4/é›†ä¸­åŠ›/æ€¥ãŽè¶³/é€ƒã’ç›´ç·š/é€ƒã’ã‚³ãƒ„/åœ°å›ºã‚

            ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ðŸ§²
          URL: https://twitter.com/legnbot/status/1429076121144807428/photo/1
        run: |
          export UPDATE="$(date +%Y/%m/%d) æ›´æ–°"
          TWITTER_MESSAGE=$(echo ${MESSAGE};echo ${UPDATE};echo ${URL})
          echo $TWITTER_MESSAGE > message.txt
          echo "TWITTER_STATUS=$(cat message.txt)" >> ${GITHUB_ENV}
      - name: update
        uses: ethomson/send-tweet-action@v1
        with:
          consumer-key: ${{ secrets.TWITTER_CONSUMER_KEY }}
          consumer-secret: ${{ secrets.TWITTER_CONSUMER_SECRET }}
          access-token: ${{ secrets.TWITTER_ACCESS_TOKEN }}
          access-token-secret: ${{ secrets.TWITTER_ACCESS_SECRET }}
          status: ${{ env.TWITTER_STATUS }}
